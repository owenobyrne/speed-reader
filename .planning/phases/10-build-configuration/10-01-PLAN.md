---
phase: 10-build-configuration
plan: 01
type: execute
---

<objective>
Install electron-builder and configure Windows build settings with proper metadata.

Purpose: Enable Windows packaging capability for Speed Reader with correct app information and build targets.
Output: Working electron-builder setup that can generate Windows installers with proper app metadata.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@package.json

**Tech stack available:** Electron 40, existing icon assets (build/icons/)
**Established patterns:** Electron IPC patterns, window management
**Phase context:**
- Icons already generated (icon.ico, icon.icns in build/icons/)
- Basic build config exists in package.json but electron-builder not installed
- Need to prepare for Windows NSIS installer (Phase 11)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Install electron-builder</name>
  <files>package.json, package-lock.json</files>
  <action>Install electron-builder as devDependency using npm install --save-dev electron-builder. This provides the build tooling for packaging Electron apps. Do NOT use yarn or pnpm - project uses npm (package-lock.json exists).</action>
  <verify>npm list electron-builder shows the package installed, package.json includes it in devDependencies</verify>
  <done>electron-builder installed and listed in package.json devDependencies</done>
</task>

<task type="auto">
  <name>Task 2: Enhance build configuration metadata</name>
  <files>package.json</files>
  <action>Update the build section in package.json to include complete Windows metadata: copyright (use current year), description (from package.json description field), add files array to include only necessary files (exclude node_modules/mammoth, node_modules/pdf-parse, node_modules/@mozilla dependencies - these are lazy-loaded at runtime). Keep existing win.icon and win.target NSIS settings. Add compressionLevel:"maximum" for smaller installer. Verify appId, productName already correct.</action>
  <verify>package.json build section has win.copyright, files array, compressionLevel</verify>
  <done>Build metadata complete with copyright, optimized file inclusion, compression settings</done>
</task>

<task type="auto">
  <name>Task 3: Test Windows build process</name>
  <files>None (verification only)</files>
  <action>Run npm run build to verify electron-builder executes successfully. This will generate dist/ directory with Windows build artifacts. If build fails on missing dependencies or configuration errors, fix them. The build should complete without errors.</action>
  <verify>npm run build completes successfully, dist/ directory created with .exe or installer files</verify>
  <done>Build executes without errors and produces Windows artifacts in dist/</done>
</task>

</tasks>

<verification>
Before declaring phase complete:
- [ ] electron-builder installed in package.json devDependencies
- [ ] Build metadata includes copyright, file optimization, compression
- [ ] npm run build executes without errors
- [ ] dist/ directory contains Windows build artifacts
</verification>

<success_criteria>

- All tasks completed
- All verification checks pass
- electron-builder configured for Windows builds
- Test build completes successfully
- Ready for Phase 11 (Windows Installer configuration)
  </success_criteria>

<output>
After completion, create `.planning/phases/10-build-configuration/10-01-SUMMARY.md`:

# Phase 10 Plan 1: Build Configuration Summary

**[Substantive one-liner - what shipped, not "phase complete"]**

## Accomplishments

- [Key outcome 1]
- [Key outcome 2]

## Files Created/Modified

- `path/to/file.ts` - Description
- `path/to/another.ts` - Description

## Decisions Made

[Key decisions and rationale, or "None"]

## Issues Encountered

[Problems and resolutions, or "None"]

## Next Phase Readiness

[Ready for Phase 11: Windows Installer]
</output>
