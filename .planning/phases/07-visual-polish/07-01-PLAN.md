---
phase: 07-visual-polish
plan: 01
type: execute
---

<objective>
Complete visual polish with smoother word transitions and ORP baseline alignment fix.

Purpose: Final polish for v1.1 milestone - refined visual experience.
Output: Smooth word transitions, properly aligned ORP with surrounding text.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/06-font-system/06-01-SUMMARY.md
@renderer.js
@styles.css

**Deferred issue from STATE.md:**
- ORP baseline alignment with surrounding word parts

**Current ORP implementation:**
- Word split into three spans: .word-before, .orp, .word-after
- All positioned absolute with `bottom: 5px`
- JS dynamically adjusts left/right positions based on ORP character width
- Issue: baseline may not align perfectly across the three spans

**Transition goal:**
- Word changes should feel smooth, not jarring
- Subtle fade or opacity transition between words
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add smooth word transition animation</name>
  <files>styles.css, renderer.js</files>
  <action>
    Add a subtle fade transition for word changes:
    1. In styles.css: Add opacity transition to .word-display (e.g., transition: opacity 0.05s ease-out)
    2. In renderer.js displayWord():
       - Before changing innerHTML, set display.style.opacity = '0'
       - After setting innerHTML, use requestAnimationFrame to set opacity back to '1'

    Keep transition very fast (50ms or less) to not interfere with high WPM reading.
    The goal is to soften the abrupt word change, not slow it down.
  </action>
  <verify>Run app, start reading - word changes should have subtle fade instead of hard cut. High WPM (600+) should still feel responsive.</verify>
  <done>Word transitions have subtle fade animation. No perceptible lag at any WPM setting.</done>
</task>

<task type="auto">
  <name>Task 2: Fix ORP baseline alignment</name>
  <files>styles.css</files>
  <action>
    Ensure all three word parts (.word-before, .orp, .word-after) share exact same baseline:

    1. Remove the current `bottom: 5px` positioning approach
    2. Use flexbox on .word-display to center content vertically
    3. Keep the three spans inline (not absolute) but use CSS to position them correctly:
       - Use a wrapper approach: outer flex container for vertical centering
       - Inner spans remain inline for natural baseline alignment
       - ORP centering handled via the existing JS width calculation

    Alternative simpler approach if baseline is already correct:
    - Just verify current implementation works - the `bottom: 5px` should already share baseline
    - If issue is with per-font offsets conflicting, ensure transform on .word-display doesn't break child positioning

    Test with all 6 fonts to ensure baseline consistency.
  </action>
  <verify>Cycle through all fonts with 'f' key. Check that the red ORP letter sits on same baseline as white letters before/after it. No vertical misalignment visible.</verify>
  <done>ORP letter perfectly aligned on same baseline as surrounding text across all fonts.</done>
</task>

</tasks>

<verification>
Before declaring phase complete:
- [ ] Word transitions are smooth at all WPM speeds (100-1000)
- [ ] ORP baseline aligned with surrounding letters
- [ ] All 6 fonts display correctly with proper alignment
- [ ] No visual glitches or flickering during playback
- [ ] npm start runs without errors
</verification>

<success_criteria>

- All tasks completed
- All verification checks pass
- v1.1 milestone complete (Phases 5-7 done)
</success_criteria>

<output>
After completion, create `.planning/phases/07-visual-polish/07-01-SUMMARY.md` using summary template.
</output>
