---
phase: 02-core-reader
plan: 01
type: execute
---

<objective>
Build the core RSVP display with ORP highlighting and visual design.

Purpose: Create the central reading experience â€” the most important part of the app.
Output: Working RSVP display showing words one at a time with ORP letter highlighted in red.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/01-foundation/01-01-SUMMARY.md
@index.html
@main.js

**From PROJECT.md - Visual Design Requirements:**
- Black background (done in Phase 1)
- Two dim white horizontal lines with tick marks
- White Times New Roman text
- Red letter at ORP position
- Speed control 100-1000 WPM (controls in Phase 4, but timing logic here)

**From Phase 1:**
- index.html has black background, Times New Roman font
- Security: nodeIntegration false, contextIsolation true
- Window: 800x600 default

**ORP Calculation (from RSVP research):**
The Optimal Recognition Point is typically around 35% from the left of the word (slightly left of center). For a word of length N, ORP index = floor(N * 0.35), minimum index 0.
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create RSVP visual container with guide lines</name>
  <files>index.html, styles.css</files>
  <action>
    Replace index.html placeholder with RSVP display structure:
    - Create separate styles.css file (cleaner than inline styles)
    - Main container centered in viewport
    - Two horizontal guide lines (dim white, ~40% opacity, thin)
    - Tick marks: small vertical marks at center of each line (visual anchor point)
    - Word display area between the lines
    - Lines should be ~60% of viewport width
    - Keep black background, Times New Roman font

    Structure:
    ```
    <div class="rsvp-container">
      <div class="guide-line top"><span class="tick"></span></div>
      <div class="word-display" id="word-display"></div>
      <div class="guide-line bottom"><span class="tick"></span></div>
    </div>
    ```

    DO NOT add any JavaScript yet - pure HTML/CSS structure.
  </action>
  <verify>npm run start shows black screen with two faint horizontal lines and center tick marks</verify>
  <done>Guide lines and tick marks visible, word display area ready</done>
</task>

<task type="auto">
  <name>Task 2: Implement RSVP engine with ORP highlighting</name>
  <files>renderer.js, index.html</files>
  <action>
    Create renderer.js with RSVP display logic:

    1. ORP calculation function:
       - orp_index = Math.max(0, Math.floor(word.length * 0.35) - 1)
       - For 1-char words, ORP is index 0
       - For 2-char words, ORP is index 0
       - For 3+ char words, ORP is ~35% from left

    2. Word rendering function:
       - Split word into: before ORP, ORP letter (red), after ORP
       - Render as: <span class="before">{before}</span><span class="orp">{orp}</span><span class="after">{after}</span>
       - ORP letter in red (#ff0000), rest in white (#ffffff)
       - Position word so ORP letter aligns with tick marks (use CSS)

    3. Add to styles.css:
       - .word-display spans for positioning
       - .orp class with red color
       - Font size: 48px as default (adjustable later)
       - Word positioned so ORP aligns to center tick

    4. Test with hardcoded word on load (e.g., "reading")

    Link renderer.js in index.html via script tag.
  </action>
  <verify>npm run start shows "reading" with 'a' highlighted in red, aligned to tick marks</verify>
  <done>Single word displays with ORP letter red, aligned to center</done>
</task>

<task type="auto">
  <name>Task 3: Add basic word sequence playback</name>
  <files>renderer.js</files>
  <action>
    Add playback functionality to renderer.js:

    1. RSVP state:
       - words[] array (hardcoded test text for now)
       - currentIndex
       - isPlaying boolean
       - wpm (default 300)
       - intervalId for timing

    2. Test text (hardcode):
       "The quick brown fox jumps over the lazy dog. This is a test of the speed reading system."

    3. Functions:
       - splitIntoWords(text): Split on whitespace, return array
       - play(): Start interval, advance word each tick
       - pause(): Clear interval
       - displayWord(word): Call existing render function
       - calculateDelay(wpm): 60000 / wpm milliseconds

    4. Auto-start playback on load for testing (will add controls in Phase 4)

    5. Loop back to start when finished (for testing)

    DO NOT add keyboard controls yet (Phase 4).
    DO NOT add punctuation pauses yet (enhancement for later).
  </action>
  <verify>npm run start shows words cycling through at ~300 WPM with ORP highlighting</verify>
  <done>Words cycle automatically, each showing ORP letter in red, smooth transitions</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run start` launches app successfully
- [ ] Two dim horizontal guide lines visible with center tick marks
- [ ] Words display one at a time in white Times New Roman
- [ ] ORP letter (slightly left of center) highlighted in red
- [ ] Words cycle automatically at readable pace (~300 WPM)
- [ ] ORP letter stays aligned with tick marks regardless of word length
</verification>

<success_criteria>

- Visual design matches PROJECT.md spec (guide lines, tick marks, ORP highlighting)
- RSVP playback works with test text
- Reading experience feels smooth (no jarring transitions)
- Foundation ready for Phase 3 (file input) and Phase 4 (controls)
</success_criteria>

<output>
After completion, create `.planning/phases/02-core-reader/02-01-SUMMARY.md`
</output>
